<main class="w-full h-full">
  <div class="bg-secondary rounded-2xl px-8 py-6 flex flex-col gap-2">
    <p class="font-sans">&#64;{{ postValue.authorUsername }}</p>
    <h1 class="font-sans font-semibold text-title">
      {{ postValue.postTitle }}
    </h1>
    <p class="font-sans text-tertiaryText">{{ postValue.content }}</p>
    <div class="flex flex-row gap-2 mt-2">
      <button
        class="bg-primary text-white font-sans px-3 py-1.5 rounded-xl"
        (click)="toggleLike(postId)"
      >
        {{ likesCount }} Likes
      </button>
      <button class="bg-primary text-white font-sans px-3 py-1.5 rounded-xl">
        {{ commentsCount }} Comments
      </button>
      <button class="bg-primary text-white font-sans px-3 py-1.5 rounded-xl">
        Share
      </button>
    </div>
  </div>
  <div class="w-full flex flex-col gap-2">
    <h1 class="font-sans font-semibold mt-2 text-subtitle">Comments</h1>

    <ul
      class="w-full flex flex-col px-4 overflow-y-auto max-h-32"
      *ngIf="comments.length > 0"
    >
      <li *ngFor="let comment of comments" class="p-3 rounded-xl">
        <p class="font-sans font-semibold">&#64;{{ comment.authorUsername }}</p>
        <p class="text-tertiaryText font-sans">{{ comment.content }}</p>
        <p class="text-xs text-tertiaryText font-sans">
          {{ comment.timestamp | relativeTime }}
        </p>
      </li>
    </ul>

    <p class="font-sans text-tertiaryText px-4" *ngIf="comments.length === 0">
      Be the first to leave a comment
    </p>
    <div class="flex flex-row gap-2 w-full">
      <input
        type="text"
        placeholder="Add a comment"
        class="mt-2 px-4 py-2 rounded-xl bg-gray-100 outline-none flex-1"
        [(ngModel)]="commentContent"
      />
      <button
        class="bg-primary text-white px-4 py-2 mt-2 rounded-xl"
        (click)="addComment(postId)"
      >
        Post Comment
      </button>
    </div>
  </div>
</main>
